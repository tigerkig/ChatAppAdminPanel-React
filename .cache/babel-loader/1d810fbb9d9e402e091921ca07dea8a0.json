{"ast":null,"code":"var _jsxFileName = \"E:\\\\dev\\\\admin_panel\\\\LocalsAdminPanel\\\\src\\\\guards\\\\AuthGuard.js\";\nimport { useState } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types'; // hooks\n\nimport useAuth from '../hooks/useAuth'; // pages\n\nimport Login from '../pages/authentication/Login'; // ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nAuthGuard.propTypes = {\n  children: PropTypes.node\n};\nexport default function AuthGuard({\n  children\n}) {\n  const {\n    isAuthenticated\n  } = useAuth();\n  const {\n    pathname\n  } = useLocation();\n  const [requestedLocation, setRequestedLocation] = useState(null);\n\n  if (!isAuthenticated) {\n    if (pathname !== requestedLocation) {\n      setRequestedLocation(pathname);\n    }\n\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/auth/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (requestedLocation && pathname !== requestedLocation) {\n    setRequestedLocation(null);\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: requestedLocation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false);\n}","map":{"version":3,"sources":["E:/dev/admin_panel/LocalsAdminPanel/src/guards/AuthGuard.js"],"names":["useState","Navigate","useLocation","PropTypes","useAuth","Login","AuthGuard","propTypes","children","node","isAuthenticated","pathname","requestedLocation","setRequestedLocation"],"mappings":";AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,kBAAtC;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CACA;;AACA,OAAOC,OAAP,MAAoB,kBAApB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,+BAAlB,C,CAEA;;;;AAEAC,SAAS,CAACC,SAAV,GAAsB;AACpBC,EAAAA,QAAQ,EAAEL,SAAS,CAACM;AADA,CAAtB;AAIA,eAAe,SAASH,SAAT,CAAmB;AAAEE,EAAAA;AAAF,CAAnB,EAAiC;AAC9C,QAAM;AAAEE,IAAAA;AAAF,MAAsBN,OAAO,EAAnC;AACA,QAAM;AAAEO,IAAAA;AAAF,MAAeT,WAAW,EAAhC;AACA,QAAM,CAACU,iBAAD,EAAoBC,oBAApB,IAA4Cb,QAAQ,CAAC,IAAD,CAA1D;;AAEA,MAAI,CAACU,eAAL,EAAsB;AACpB,QAAIC,QAAQ,KAAKC,iBAAjB,EAAoC;AAClCC,MAAAA,oBAAoB,CAACF,QAAD,CAApB;AACD;;AACD,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,MAAIC,iBAAiB,IAAID,QAAQ,KAAKC,iBAAtC,EAAyD;AACvDC,IAAAA,oBAAoB,CAAC,IAAD,CAApB;AACA,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAED;AAAd;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,sBAAO;AAAA,cAAGJ;AAAH,mBAAP;AACD","sourcesContent":["import { useState } from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n// hooks\nimport useAuth from '../hooks/useAuth';\n// pages\nimport Login from '../pages/authentication/Login';\n\n// ----------------------------------------------------------------------\n\nAuthGuard.propTypes = {\n  children: PropTypes.node\n};\n\nexport default function AuthGuard({ children }) {\n  const { isAuthenticated } = useAuth();\n  const { pathname } = useLocation();\n  const [requestedLocation, setRequestedLocation] = useState(null);\n\n  if (!isAuthenticated) {\n    if (pathname !== requestedLocation) {\n      setRequestedLocation(pathname);\n    }\n    return <Navigate to=\"/auth/login\" />;\n  }\n\n  if (requestedLocation && pathname !== requestedLocation) {\n    setRequestedLocation(null);\n    return <Navigate to={requestedLocation} />;\n  }\n\n  return <>{children}</>;\n}\n"]},"metadata":{},"sourceType":"module"}