{"ast":null,"code":"import _regeneratorRuntime from\"E:/dev/admin_panel/LocalsAdminPanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/dev/admin_panel/LocalsAdminPanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{createSlice}from'@reduxjs/toolkit';// utils\nimport axios from'../../utils/axios';// ----------------------------------------------------------------------\nfunction objFromArray(array){var key=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'_id';return array.reduce(function(accumulator,current){accumulator[current[key]]=current;return accumulator;},{});}var initialState={isLoading:false,error:false,contacts:{byId:{},allIds:[]},conversations:{byId:{},allIds:[]},activeConversationId:null,participants:[],recipients:[]};var slice=createSlice({name:'chat',initialState:initialState,reducers:{// START LOADING\nstartLoading:function startLoading(state){state.isLoading=true;},// HAS ERROR\nhasError:function hasError(state,action){state.isLoading=false;state.error=action.payload;},// GET CONTACT SSUCCESS\ngetContactsSuccess:function getContactsSuccess(state,action){var contacts=action.payload;state.contacts.byId=objFromArray(contacts);state.contacts.allIds=Object.keys(state.contacts.byId);},// GET CONVERSATIONS\ngetConversationsSuccess:function getConversationsSuccess(state,action){var conversations=action.payload;state.conversations.byId=objFromArray(conversations);state.conversations.allIds=Object.keys(state.conversations.byId);},// GET CONVERSATION\ngetConversationSuccess:function getConversationSuccess(state,action){var conversation=action.payload;if(conversation){state.conversations.byId[conversation._id]=conversation;state.activeConversationId=conversation._id;if(!state.conversations.allIds.includes(conversation._id)){state.conversations.allIds.push(conversation._id);}}else{state.activeConversationId=null;}},// ON SEND MESSAGE\nonSendMessage:function onSendMessage(state,action){var conversation=action.payload;var conversationId=conversation.conversationId,messageId=conversation.messageId,message=conversation.message,contentType=conversation.contentType,attachments=conversation.attachments,createdAt=conversation.createdAt,senderId=conversation.senderId;var newMessage={id:messageId,body:message,contentType:contentType,attachments:attachments,createdAt:createdAt,senderId:senderId};state.conversations.byId[conversationId].messages.push(newMessage);},markConversationAsReadSuccess:function markConversationAsReadSuccess(state,action){var conversationId=action.payload.conversationId;var conversation=state.conversations.byId[conversationId];if(conversation){conversation.unreadCount=0;}},// GET PARTICIPANTS\ngetParticipantsSuccess:function getParticipantsSuccess(state,action){var participants=action.payload;state.participants=participants;},// RESET ACTIVE CONVERSATION\nresetActiveConversation:function resetActiveConversation(state){state.activeConversationId=null;},addRecipients:function addRecipients(state,action){var recipients=action.payload;state.recipients=recipients;}}});// Reducer\nexport default slice.reducer;// Actions\nvar _slice$actions=slice.actions,addRecipients=_slice$actions.addRecipients,onSendMessage=_slice$actions.onSendMessage,resetActiveConversation=_slice$actions.resetActiveConversation;// ----------------------------------------------------------------------\nexport{addRecipients,onSendMessage,resetActiveConversation};export function getContacts(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(slice.actions.startLoading());_context.prev=1;_context.next=4;return axios.get('/chat/contacts');case 4:response=_context.sent;dispatch(slice.actions.getContactsSuccess(response.data.contacts));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch(slice.actions.hasError(_context.t0));case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getConversations(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(slice.actions.startLoading());_context2.prev=1;_context2.next=4;return axios.get('/chat/conversations');case 4:response=_context2.sent;dispatch(slice.actions.getConversationsSuccess(response.data.conversations));_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch(slice.actions.hasError(_context2.t0));case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getConversation(conversationKey){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(slice.actions.startLoading());_context3.prev=1;_context3.next=4;return axios.get('/chat/conversation',{params:{conversationKey:conversationKey}});case 4:response=_context3.sent;dispatch(slice.actions.getConversationSuccess(response.data.conversation));_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);dispatch(slice.actions.hasError(_context3.t0));case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[1,8]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function markConversationAsRead(conversationId){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(slice.actions.startLoading());_context4.prev=1;_context4.next=4;return axios.get('/chat/conversation/mark-as-seen',{params:{conversationId:conversationId}});case 4:dispatch(slice.actions.markConversationAsReadSuccess({conversationId:conversationId}));_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](1);dispatch(slice.actions.hasError(_context4.t0));case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[1,7]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();}// ----------------------------------------------------------------------\nexport function getParticipants(conversationKey){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch(slice.actions.startLoading());_context5.prev=1;_context5.next=4;return axios.get('/chat/participants',{params:{conversationKey:conversationKey}});case 4:response=_context5.sent;dispatch(slice.actions.getParticipantsSuccess(response.data.participants));_context5.next=11;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](1);dispatch(slice.actions.hasError(_context5.t0));case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[1,8]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();}","map":{"version":3,"sources":["E:/dev/admin_panel/LocalsAdminPanel/src/redux/slices/chat.js"],"names":["createSlice","axios","objFromArray","array","key","reduce","accumulator","current","initialState","isLoading","error","contacts","byId","allIds","conversations","activeConversationId","participants","recipients","slice","name","reducers","startLoading","state","hasError","action","payload","getContactsSuccess","Object","keys","getConversationsSuccess","getConversationSuccess","conversation","_id","includes","push","onSendMessage","conversationId","messageId","message","contentType","attachments","createdAt","senderId","newMessage","id","body","messages","markConversationAsReadSuccess","unreadCount","getParticipantsSuccess","resetActiveConversation","addRecipients","reducer","actions","getContacts","dispatch","get","response","data","getConversations","getConversation","conversationKey","params","markConversationAsRead","getParticipants"],"mappings":"iTAAA,OAASA,WAAT,KAA4B,kBAA5B,CACA;AACA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,CAEA;AAEA,QAASC,CAAAA,YAAT,CAAsBC,KAAtB,CAA0C,IAAbC,CAAAA,GAAa,2DAAP,KAAO,CACxC,MAAOD,CAAAA,KAAK,CAACE,MAAN,CAAa,SAACC,WAAD,CAAcC,OAAd,CAA0B,CAC5CD,WAAW,CAACC,OAAO,CAACH,GAAD,CAAR,CAAX,CAA4BG,OAA5B,CACA,MAAOD,CAAAA,WAAP,CACD,CAHM,CAGJ,EAHI,CAAP,CAID,CAED,GAAME,CAAAA,YAAY,CAAG,CACnBC,SAAS,CAAE,KADQ,CAEnBC,KAAK,CAAE,KAFY,CAGnBC,QAAQ,CAAE,CAAEC,IAAI,CAAE,EAAR,CAAYC,MAAM,CAAE,EAApB,CAHS,CAInBC,aAAa,CAAE,CAAEF,IAAI,CAAE,EAAR,CAAYC,MAAM,CAAE,EAApB,CAJI,CAKnBE,oBAAoB,CAAE,IALH,CAMnBC,YAAY,CAAE,EANK,CAOnBC,UAAU,CAAE,EAPO,CAArB,CAUA,GAAMC,CAAAA,KAAK,CAAGlB,WAAW,CAAC,CACxBmB,IAAI,CAAE,MADkB,CAExBX,YAAY,CAAZA,YAFwB,CAGxBY,QAAQ,CAAE,CACR;AACAC,YAFQ,uBAEKC,KAFL,CAEY,CAClBA,KAAK,CAACb,SAAN,CAAkB,IAAlB,CACD,CAJO,CAMR;AACAc,QAPQ,mBAOCD,KAPD,CAOQE,MAPR,CAOgB,CACtBF,KAAK,CAACb,SAAN,CAAkB,KAAlB,CACAa,KAAK,CAACZ,KAAN,CAAcc,MAAM,CAACC,OAArB,CACD,CAVO,CAYR;AACAC,kBAbQ,6BAaWJ,KAbX,CAakBE,MAblB,CAa0B,CAChC,GAAMb,CAAAA,QAAQ,CAAGa,MAAM,CAACC,OAAxB,CACAH,KAAK,CAACX,QAAN,CAAeC,IAAf,CAAsBV,YAAY,CAACS,QAAD,CAAlC,CACAW,KAAK,CAACX,QAAN,CAAeE,MAAf,CAAwBc,MAAM,CAACC,IAAP,CAAYN,KAAK,CAACX,QAAN,CAAeC,IAA3B,CAAxB,CACD,CAjBO,CAmBR;AACAiB,uBApBQ,kCAoBgBP,KApBhB,CAoBuBE,MApBvB,CAoB+B,CACrC,GAAMV,CAAAA,aAAa,CAAGU,MAAM,CAACC,OAA7B,CAEAH,KAAK,CAACR,aAAN,CAAoBF,IAApB,CAA2BV,YAAY,CAACY,aAAD,CAAvC,CACAQ,KAAK,CAACR,aAAN,CAAoBD,MAApB,CAA6Bc,MAAM,CAACC,IAAP,CAAYN,KAAK,CAACR,aAAN,CAAoBF,IAAhC,CAA7B,CACD,CAzBO,CA2BR;AACAkB,sBA5BQ,iCA4BeR,KA5Bf,CA4BsBE,MA5BtB,CA4B8B,CACpC,GAAMO,CAAAA,YAAY,CAAGP,MAAM,CAACC,OAA5B,CAEA,GAAIM,YAAJ,CAAkB,CAChBT,KAAK,CAACR,aAAN,CAAoBF,IAApB,CAAyBmB,YAAY,CAACC,GAAtC,EAA6CD,YAA7C,CACAT,KAAK,CAACP,oBAAN,CAA6BgB,YAAY,CAACC,GAA1C,CACA,GAAI,CAACV,KAAK,CAACR,aAAN,CAAoBD,MAApB,CAA2BoB,QAA3B,CAAoCF,YAAY,CAACC,GAAjD,CAAL,CAA4D,CAC1DV,KAAK,CAACR,aAAN,CAAoBD,MAApB,CAA2BqB,IAA3B,CAAgCH,YAAY,CAACC,GAA7C,EACD,CACF,CAND,IAMO,CACLV,KAAK,CAACP,oBAAN,CAA6B,IAA7B,CACD,CACF,CAxCO,CA0CR;AACAoB,aA3CQ,wBA2CMb,KA3CN,CA2CaE,MA3Cb,CA2CqB,CAC3B,GAAMO,CAAAA,YAAY,CAAGP,MAAM,CAACC,OAA5B,CACA,GAAQW,CAAAA,cAAR,CAA8FL,YAA9F,CAAQK,cAAR,CAAwBC,SAAxB,CAA8FN,YAA9F,CAAwBM,SAAxB,CAAmCC,OAAnC,CAA8FP,YAA9F,CAAmCO,OAAnC,CAA4CC,WAA5C,CAA8FR,YAA9F,CAA4CQ,WAA5C,CAAyDC,WAAzD,CAA8FT,YAA9F,CAAyDS,WAAzD,CAAsEC,SAAtE,CAA8FV,YAA9F,CAAsEU,SAAtE,CAAiFC,QAAjF,CAA8FX,YAA9F,CAAiFW,QAAjF,CAEA,GAAMC,CAAAA,UAAU,CAAG,CACjBC,EAAE,CAAEP,SADa,CAEjBQ,IAAI,CAAEP,OAFW,CAGjBC,WAAW,CAAXA,WAHiB,CAIjBC,WAAW,CAAXA,WAJiB,CAKjBC,SAAS,CAATA,SALiB,CAMjBC,QAAQ,CAARA,QANiB,CAAnB,CASApB,KAAK,CAACR,aAAN,CAAoBF,IAApB,CAAyBwB,cAAzB,EAAyCU,QAAzC,CAAkDZ,IAAlD,CAAuDS,UAAvD,EACD,CAzDO,CA2DRI,6BA3DQ,wCA2DsBzB,KA3DtB,CA2D6BE,MA3D7B,CA2DqC,CAC3C,GAAQY,CAAAA,cAAR,CAA2BZ,MAAM,CAACC,OAAlC,CAAQW,cAAR,CACA,GAAML,CAAAA,YAAY,CAAGT,KAAK,CAACR,aAAN,CAAoBF,IAApB,CAAyBwB,cAAzB,CAArB,CACA,GAAIL,YAAJ,CAAkB,CAChBA,YAAY,CAACiB,WAAb,CAA2B,CAA3B,CACD,CACF,CAjEO,CAmER;AACAC,sBApEQ,iCAoEe3B,KApEf,CAoEsBE,MApEtB,CAoE8B,CACpC,GAAMR,CAAAA,YAAY,CAAGQ,MAAM,CAACC,OAA5B,CACAH,KAAK,CAACN,YAAN,CAAqBA,YAArB,CACD,CAvEO,CAyER;AACAkC,uBA1EQ,kCA0EgB5B,KA1EhB,CA0EuB,CAC7BA,KAAK,CAACP,oBAAN,CAA6B,IAA7B,CACD,CA5EO,CA8ERoC,aA9EQ,wBA8EM7B,KA9EN,CA8EaE,MA9Eb,CA8EqB,CAC3B,GAAMP,CAAAA,UAAU,CAAGO,MAAM,CAACC,OAA1B,CACAH,KAAK,CAACL,UAAN,CAAmBA,UAAnB,CACD,CAjFO,CAHc,CAAD,CAAzB,CAwFA;AACA,cAAeC,CAAAA,KAAK,CAACkC,OAArB,CAEA;AACO,mBAAkElC,KAAK,CAACmC,OAAxE,CAAQF,aAAR,gBAAQA,aAAR,CAAuBhB,aAAvB,gBAAuBA,aAAvB,CAAsCe,uBAAtC,gBAAsCA,uBAAtC,CAEP;4DAEA,MAAO,SAASI,CAAAA,WAAT,EAAuB,CAC5B,+FAAO,iBAAOC,QAAP,+HACLA,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAchC,YAAd,EAAD,CAAR,CADK,sCAGoBpB,CAAAA,KAAK,CAACuD,GAAN,CAAU,gBAAV,CAHpB,QAGGC,QAHH,eAIHF,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAc3B,kBAAd,CAAiC+B,QAAQ,CAACC,IAAT,CAAc/C,QAA/C,CAAD,CAAR,CAJG,+EAMH4C,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAc9B,QAAd,aAAD,CAAR,CANG,oEAAP,+DASD,CAED;AAEA,MAAO,SAASoC,CAAAA,gBAAT,EAA4B,CACjC,gGAAO,kBAAOJ,QAAP,mIACLA,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAchC,YAAd,EAAD,CAAR,CADK,wCAGoBpB,CAAAA,KAAK,CAACuD,GAAN,CAAU,qBAAV,CAHpB,QAGGC,QAHH,gBAIHF,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAcxB,uBAAd,CAAsC4B,QAAQ,CAACC,IAAT,CAAc5C,aAApD,CAAD,CAAR,CAJG,mFAMHyC,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAc9B,QAAd,cAAD,CAAR,CANG,sEAAP,iEASD,CAED;AAEA,MAAO,SAASqC,CAAAA,eAAT,CAAyBC,eAAzB,CAA0C,CAC/C,gGAAO,kBAAON,QAAP,mIACLA,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAchC,YAAd,EAAD,CAAR,CADK,wCAGoBpB,CAAAA,KAAK,CAACuD,GAAN,CAAU,oBAAV,CAAgC,CACrDM,MAAM,CAAE,CAAED,eAAe,CAAfA,eAAF,CAD6C,CAAhC,CAHpB,QAGGJ,QAHH,gBAMHF,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAcvB,sBAAd,CAAqC2B,QAAQ,CAACC,IAAT,CAAc3B,YAAnD,CAAD,CAAR,CANG,mFAQHwB,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAc9B,QAAd,cAAD,CAAR,CARG,sEAAP,iEAWD,CAED;AAEA,MAAO,SAASwC,CAAAA,sBAAT,CAAgC3B,cAAhC,CAAgD,CACrD,gGAAO,kBAAOmB,QAAP,sHACLA,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAchC,YAAd,EAAD,CAAR,CADK,wCAGGpB,CAAAA,KAAK,CAACuD,GAAN,CAAU,iCAAV,CAA6C,CACjDM,MAAM,CAAE,CAAE1B,cAAc,CAAdA,cAAF,CADyC,CAA7C,CAHH,QAMHmB,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAcN,6BAAd,CAA4C,CAAEX,cAAc,CAAdA,cAAF,CAA5C,CAAD,CAAR,CANG,mFAQHmB,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAc9B,QAAd,cAAD,CAAR,CARG,sEAAP,iEAWD,CAED;AAEA,MAAO,SAASyC,CAAAA,eAAT,CAAyBH,eAAzB,CAA0C,CAC/C,gGAAO,kBAAON,QAAP,mIACLA,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAchC,YAAd,EAAD,CAAR,CADK,wCAGoBpB,CAAAA,KAAK,CAACuD,GAAN,CAAU,oBAAV,CAAgC,CACrDM,MAAM,CAAE,CAAED,eAAe,CAAfA,eAAF,CAD6C,CAAhC,CAHpB,QAGGJ,QAHH,gBAMHF,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAcJ,sBAAd,CAAqCQ,QAAQ,CAACC,IAAT,CAAc1C,YAAnD,CAAD,CAAR,CANG,mFAQHuC,QAAQ,CAACrC,KAAK,CAACmC,OAAN,CAAc9B,QAAd,cAAD,CAAR,CARG,sEAAP,iEAWD","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n// utils\nimport axios from '../../utils/axios';\n\n// ----------------------------------------------------------------------\n\nfunction objFromArray(array, key = '_id') {\n  return array.reduce((accumulator, current) => {\n    accumulator[current[key]] = current;\n    return accumulator;\n  }, {});\n}\n\nconst initialState = {\n  isLoading: false,\n  error: false,\n  contacts: { byId: {}, allIds: [] },\n  conversations: { byId: {}, allIds: [] },\n  activeConversationId: null,\n  participants: [],\n  recipients: []\n};\n\nconst slice = createSlice({\n  name: 'chat',\n  initialState,\n  reducers: {\n    // START LOADING\n    startLoading(state) {\n      state.isLoading = true;\n    },\n\n    // HAS ERROR\n    hasError(state, action) {\n      state.isLoading = false;\n      state.error = action.payload;\n    },\n\n    // GET CONTACT SSUCCESS\n    getContactsSuccess(state, action) {\n      const contacts = action.payload;\n      state.contacts.byId = objFromArray(contacts);\n      state.contacts.allIds = Object.keys(state.contacts.byId);\n    },\n\n    // GET CONVERSATIONS\n    getConversationsSuccess(state, action) {\n      const conversations = action.payload;\n\n      state.conversations.byId = objFromArray(conversations);\n      state.conversations.allIds = Object.keys(state.conversations.byId);\n    },\n\n    // GET CONVERSATION\n    getConversationSuccess(state, action) {\n      const conversation = action.payload;\n\n      if (conversation) {\n        state.conversations.byId[conversation._id] = conversation;\n        state.activeConversationId = conversation._id;\n        if (!state.conversations.allIds.includes(conversation._id)) {\n          state.conversations.allIds.push(conversation._id);\n        }\n      } else {\n        state.activeConversationId = null;\n      }\n    },\n\n    // ON SEND MESSAGE\n    onSendMessage(state, action) {\n      const conversation = action.payload;\n      const { conversationId, messageId, message, contentType, attachments, createdAt, senderId } = conversation;\n\n      const newMessage = {\n        id: messageId,\n        body: message,\n        contentType,\n        attachments,\n        createdAt,\n        senderId\n      };\n\n      state.conversations.byId[conversationId].messages.push(newMessage);\n    },\n\n    markConversationAsReadSuccess(state, action) {\n      const { conversationId } = action.payload;\n      const conversation = state.conversations.byId[conversationId];\n      if (conversation) {\n        conversation.unreadCount = 0;\n      }\n    },\n\n    // GET PARTICIPANTS\n    getParticipantsSuccess(state, action) {\n      const participants = action.payload;\n      state.participants = participants;\n    },\n\n    // RESET ACTIVE CONVERSATION\n    resetActiveConversation(state) {\n      state.activeConversationId = null;\n    },\n\n    addRecipients(state, action) {\n      const recipients = action.payload;\n      state.recipients = recipients;\n    }\n  }\n});\n\n// Reducer\nexport default slice.reducer;\n\n// Actions\nexport const { addRecipients, onSendMessage, resetActiveConversation } = slice.actions;\n\n// ----------------------------------------------------------------------\n\nexport function getContacts() {\n  return async (dispatch) => {\n    dispatch(slice.actions.startLoading());\n    try {\n      const response = await axios.get('/chat/contacts');\n      dispatch(slice.actions.getContactsSuccess(response.data.contacts));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n\n// ----------------------------------------------------------------------\n\nexport function getConversations() {\n  return async (dispatch) => {\n    dispatch(slice.actions.startLoading());\n    try {\n      const response = await axios.get('/chat/conversations');\n      dispatch(slice.actions.getConversationsSuccess(response.data.conversations));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n\n// ----------------------------------------------------------------------\n\nexport function getConversation(conversationKey) {\n  return async (dispatch) => {\n    dispatch(slice.actions.startLoading());\n    try {\n      const response = await axios.get('/chat/conversation', {\n        params: { conversationKey }\n      });\n      dispatch(slice.actions.getConversationSuccess(response.data.conversation));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n\n// ----------------------------------------------------------------------\n\nexport function markConversationAsRead(conversationId) {\n  return async (dispatch) => {\n    dispatch(slice.actions.startLoading());\n    try {\n      await axios.get('/chat/conversation/mark-as-seen', {\n        params: { conversationId }\n      });\n      dispatch(slice.actions.markConversationAsReadSuccess({ conversationId }));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n\n// ----------------------------------------------------------------------\n\nexport function getParticipants(conversationKey) {\n  return async (dispatch) => {\n    dispatch(slice.actions.startLoading());\n    try {\n      const response = await axios.get('/chat/participants', {\n        params: { conversationKey }\n      });\n      dispatch(slice.actions.getParticipantsSuccess(response.data.participants));\n    } catch (error) {\n      dispatch(slice.actions.hasError(error));\n    }\n  };\n}\n"]},"metadata":{},"sourceType":"module"}