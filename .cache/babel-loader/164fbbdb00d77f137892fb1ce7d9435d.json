{"ast":null,"code":"var _jsxFileName = \"E:\\\\dev\\\\admin_panel\\\\LocalsAdminPanel\\\\src\\\\components\\\\_dashboard\\\\user\\\\UserSpecialPermissionsForm.js\";\nimport * as Yup from 'yup';\nimport PropTypes from 'prop-types';\nimport { useCallback } from 'react';\nimport { useSnackbar } from 'notistack5';\nimport { useNavigate } from 'react-router-dom';\nimport { Form, FormikProvider, useFormik } from 'formik'; // material\n\nimport { LoadingButton } from '@material-ui/lab';\nimport { Box, Card, Grid, Stack, Switch, TextField, Typography, FormHelperText, FormControlLabel } from '@material-ui/core'; // import AdjustSharpIcon from '@mui/icons-material/AdjustSharp';\n// import AutoAwesomeSharpIcon from '@mui/icons-material/AutoAwesomeSharp';\n// utils\n\nimport axios from '../../../utils/axios'; // import { fData } from '../../../utils/formatNumber';\n\nimport fakeRequest from '../../../utils/fakeRequest'; // routes\n// import { PATH_DASHBOARD } from '../../../routes/paths';\n//\n// import Label from '../../Label';\n// import { UploadAvatar } from '../../upload';\n// ----------------------------------------------------------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nUserSpecialPermissionsForm.propTypes = {\n  readOnly: PropTypes.bool,\n  currentUser: PropTypes.object,\n  userSpecialPermissions: PropTypes.object\n};\nexport default function UserSpecialPermissionsForm({\n  readOnly,\n  currentUser,\n  userSpecialPermissions\n}) {\n  // const navigate = useNavigate();\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  readOnly = readOnly || false; // console.log(readOnly);\n\n  const itemValidation = Yup.object().shape({\n    // user_email: Yup.string().required('This field is required'),\n    cover_people_num: Yup.string().required('This field is required'),\n    top_message_max_num: Yup.string().required('This field is required'),\n    effect_year: Yup.string().required('This field is required'),\n    effect_month: Yup.string().required('This field is required'),\n    effect_day: Yup.string().required('This field is required'),\n    valid_period: Yup.string().required('This field is required')\n  });\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      // user_email: userSpecialPermissions?.user_email || '',\n      cover_people_num: (userSpecialPermissions === null || userSpecialPermissions === void 0 ? void 0 : userSpecialPermissions.cover_people_num) || '',\n      top_message_max_num: (userSpecialPermissions === null || userSpecialPermissions === void 0 ? void 0 : userSpecialPermissions.top_message_max_num) || '',\n      effect_year: (userSpecialPermissions === null || userSpecialPermissions === void 0 ? void 0 : userSpecialPermissions.effect_year) || '',\n      effect_month: (userSpecialPermissions === null || userSpecialPermissions === void 0 ? void 0 : userSpecialPermissions.effect_month) || '',\n      effect_day: (userSpecialPermissions === null || userSpecialPermissions === void 0 ? void 0 : userSpecialPermissions.effect_day) || '',\n      valid_period: (userSpecialPermissions === null || userSpecialPermissions === void 0 ? void 0 : userSpecialPermissions.valid_period) || ''\n    },\n    validationSchema: !readOnly ? itemValidation : null,\n    onSubmit: async (values, {\n      setSubmitting,\n      resetForm,\n      setErrors\n    }) => {\n      try {\n        await fakeRequest(500);\n        await axios.put(`/user/permissions/${currentUser._id}`, values); // resetForm();\n\n        setSubmitting(false);\n        enqueueSnackbar('Update success', {\n          variant: 'success'\n        });\n      } catch (error) {\n        console.error(error);\n        setSubmitting(false);\n        setErrors(error);\n      }\n    }\n  });\n  const {\n    errors,\n    values,\n    touched,\n    handleSubmit,\n    isSubmitting,\n    setFieldValue,\n    getFieldProps\n  } = formik;\n  return /*#__PURE__*/_jsxDEV(FormikProvider, {\n    value: formik,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      noValidate: true,\n      autoComplete: \"off\",\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 12,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              p: 3,\n              mt: 3\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              color: \"inherit\",\n              component: \"div\",\n              sx: {\n                mb: 3\n              },\n              children: \"User Special Permission\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Stack, {\n              spacing: 3,\n              children: [/*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  sm: 'row'\n                },\n                spacing: {\n                  xs: 3,\n                  sm: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"div\",\n                  style: {\n                    lineHeight: 2\n                  },\n                  children: \"Cover people\\xA0\\xA0\\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, { ...getFieldProps('cover_people_num'),\n                  variant: \"standard\",\n                  inputProps: {\n                    readOnly\n                  },\n                  style: {\n                    width: 250\n                  },\n                  error: Boolean(touched.cover_people_num && errors.cover_people_num),\n                  helperText: touched.cover_people_num && errors.cover_people_num\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"div\",\n                  style: {\n                    lineHeight: 2\n                  },\n                  children: \"person (range 1 ~ 1,000,000)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  sm: 'row'\n                },\n                spacing: {\n                  xs: 3,\n                  sm: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"div\",\n                  style: {\n                    lineHeight: 2\n                  },\n                  children: \"TOP messages permission\\xA0\\xA0\\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, { ...getFieldProps('top_message_max_num'),\n                  variant: \"standard\",\n                  inputProps: {\n                    readOnly\n                  },\n                  style: {\n                    width: 150\n                  },\n                  error: Boolean(touched.top_message_max_num && errors.top_message_max_num),\n                  helperText: touched.top_message_max_num && errors.top_message_max_num\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"div\",\n                  style: {\n                    lineHeight: 2\n                  },\n                  children: \"(1 ~ 10)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  sm: 'row'\n                },\n                spacing: {\n                  xs: 3,\n                  sm: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"div\",\n                  style: {\n                    lineHeight: 2\n                  },\n                  children: \"Effective Time\\xA0\\xA0\\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, { ...getFieldProps('effect_year'),\n                  variant: \"standard\",\n                  inputProps: {\n                    readOnly\n                  },\n                  style: {\n                    width: 80\n                  },\n                  error: Boolean(touched.effect_year && errors.effect_year),\n                  helperText: touched.effect_year && errors.effect_year\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"div\",\n                  style: {\n                    lineHeight: 2\n                  },\n                  children: \"year\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, { ...getFieldProps('effect_month'),\n                  variant: \"standard\",\n                  inputProps: {\n                    readOnly\n                  },\n                  style: {\n                    width: 80\n                  },\n                  error: Boolean(touched.effect_month && errors.effect_month),\n                  helperText: touched.effect_month && errors.effect_month\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"div\",\n                  style: {\n                    lineHeight: 2\n                  },\n                  children: \"month\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, { ...getFieldProps('effect_day'),\n                  variant: \"standard\",\n                  inputProps: {\n                    readOnly\n                  },\n                  style: {\n                    width: 80\n                  },\n                  error: Boolean(touched.effect_day && errors.effect_day),\n                  helperText: touched.effect_day && errors.effect_day\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"div\",\n                  style: {\n                    lineHeight: 2\n                  },\n                  children: \"day (East America Time from 00:01 AM)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Stack, {\n                direction: {\n                  xs: 'column',\n                  sm: 'row'\n                },\n                spacing: {\n                  xs: 3,\n                  sm: 2\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"div\",\n                  style: {\n                    lineHeight: 2\n                  },\n                  children: \"Permissions Valid period\\xA0\\xA0\\xA0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, { ...getFieldProps('valid_period'),\n                  variant: \"standard\",\n                  inputProps: {\n                    readOnly\n                  },\n                  style: {\n                    width: 150\n                  },\n                  error: Boolean(touched.valid_period && errors.valid_period),\n                  helperText: touched.valid_period && errors.valid_period\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 187,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body1\",\n                  component: \"div\",\n                  style: {\n                    lineHeight: 2\n                  },\n                  children: \"day\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), !readOnly && /*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  mt: 3,\n                  display: 'flex',\n                  justifyContent: 'flex-end'\n                },\n                children: /*#__PURE__*/_jsxDEV(Stack, {\n                  direction: {\n                    xs: 'column',\n                    sm: 'row'\n                  },\n                  spacing: {\n                    xs: 3,\n                    sm: 2\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(LoadingButton, {\n                    type: \"button\",\n                    color: \"primary\",\n                    variant: \"contained\",\n                    children: \"Clear Special Permissions\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n                    type: \"submit\",\n                    variant: \"contained\",\n                    loading: isSubmitting,\n                    children: \"Save Changes\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["E:/dev/admin_panel/LocalsAdminPanel/src/components/_dashboard/user/UserSpecialPermissionsForm.js"],"names":["Yup","PropTypes","useCallback","useSnackbar","useNavigate","Form","FormikProvider","useFormik","LoadingButton","Box","Card","Grid","Stack","Switch","TextField","Typography","FormHelperText","FormControlLabel","axios","fakeRequest","UserSpecialPermissionsForm","propTypes","readOnly","bool","currentUser","object","userSpecialPermissions","enqueueSnackbar","itemValidation","shape","cover_people_num","string","required","top_message_max_num","effect_year","effect_month","effect_day","valid_period","formik","enableReinitialize","initialValues","validationSchema","onSubmit","values","setSubmitting","resetForm","setErrors","put","_id","variant","error","console","errors","touched","handleSubmit","isSubmitting","setFieldValue","getFieldProps","p","mt","mb","xs","sm","lineHeight","width","Boolean","display","justifyContent"],"mappings":"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","sourcesContent":["import * as Yup from 'yup';\nimport PropTypes from 'prop-types';\nimport { useCallback } from 'react';\nimport { useSnackbar } from 'notistack5';\nimport { useNavigate } from 'react-router-dom';\nimport { Form, FormikProvider, useFormik } from 'formik';\n// material\nimport { LoadingButton } from '@material-ui/lab';\nimport {\n  Box,\n  Card,\n  Grid,\n  Stack,\n  Switch,\n  TextField,\n  Typography,\n  FormHelperText,\n  FormControlLabel\n} from '@material-ui/core';\n// import AdjustSharpIcon from '@mui/icons-material/AdjustSharp';\n// import AutoAwesomeSharpIcon from '@mui/icons-material/AutoAwesomeSharp';\n// utils\nimport axios from '../../../utils/axios';\n// import { fData } from '../../../utils/formatNumber';\nimport fakeRequest from '../../../utils/fakeRequest';\n// routes\n// import { PATH_DASHBOARD } from '../../../routes/paths';\n//\n// import Label from '../../Label';\n// import { UploadAvatar } from '../../upload';\n\n// ----------------------------------------------------------------------\n\nUserSpecialPermissionsForm.propTypes = {\n  readOnly: PropTypes.bool,\n  currentUser: PropTypes.object,\n  userSpecialPermissions: PropTypes.object\n};\n\nexport default function UserSpecialPermissionsForm({ readOnly, currentUser, userSpecialPermissions }) {\n  // const navigate = useNavigate();\n  const { enqueueSnackbar } = useSnackbar();\n  readOnly = readOnly || false;\n  // console.log(readOnly);\n\n  const itemValidation = Yup.object().shape({\n    // user_email: Yup.string().required('This field is required'),\n    cover_people_num: Yup.string().required('This field is required'),\n    top_message_max_num: Yup.string().required('This field is required'),\n    effect_year: Yup.string().required('This field is required'),\n    effect_month: Yup.string().required('This field is required'),\n    effect_day: Yup.string().required('This field is required'),\n    valid_period: Yup.string().required('This field is required')\n  });\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      // user_email: userSpecialPermissions?.user_email || '',\n      cover_people_num: userSpecialPermissions?.cover_people_num || '',\n      top_message_max_num: userSpecialPermissions?.top_message_max_num || '',\n      effect_year: userSpecialPermissions?.effect_year || '',\n      effect_month: userSpecialPermissions?.effect_month || '',\n      effect_day: userSpecialPermissions?.effect_day || '',\n      valid_period: userSpecialPermissions?.valid_period || ''\n    },\n    validationSchema: !readOnly ? itemValidation : null,\n    onSubmit: async (values, { setSubmitting, resetForm, setErrors }) => {\n      try {\n        await fakeRequest(500);\n\n        await axios.put(`/user/permissions/${currentUser._id}`, values);\n\n        // resetForm();\n        setSubmitting(false);\n        enqueueSnackbar('Update success', { variant: 'success' });\n      } catch (error) {\n        console.error(error);\n        setSubmitting(false);\n        setErrors(error);\n      }\n    }\n  });\n\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\n\n  return (\n    <FormikProvider value={formik}>\n      <Form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={12}>\n            <Card sx={{ p: 3, mt: 3 }}>\n              <Typography variant=\"h6\" color=\"inherit\" component=\"div\" sx={{ mb: 3 }}>\n                User Special Permission\n              </Typography>\n              <Stack spacing={3}>\n                {/* <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    User Email&nbsp;&nbsp;&nbsp;\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('user_email')}\n                    variant=\"standard\"\n                    style={{ width: 250 }}\n                    error={Boolean(touched.user_email && errors.user_email)}\n                    helperText={touched.user_email && errors.user_email}\n                  />\n                </Stack> */}\n\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    Cover people&nbsp;&nbsp;&nbsp;\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('cover_people_num')}\n                    variant=\"standard\"\n                    inputProps={{ readOnly }}\n                    style={{ width: 250 }}\n                    error={Boolean(touched.cover_people_num && errors.cover_people_num)}\n                    helperText={touched.cover_people_num && errors.cover_people_num}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    person (range 1 ~ 1,000,000)\n                  </Typography>\n                </Stack>\n\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    TOP messages permission&nbsp;&nbsp;&nbsp;\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('top_message_max_num')}\n                    variant=\"standard\"\n                    inputProps={{ readOnly }}\n                    style={{ width: 150 }}\n                    error={Boolean(touched.top_message_max_num && errors.top_message_max_num)}\n                    helperText={touched.top_message_max_num && errors.top_message_max_num}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    (1 ~ 10)\n                  </Typography>\n                </Stack>\n\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    Effective Time&nbsp;&nbsp;&nbsp;\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('effect_year')}\n                    variant=\"standard\"\n                    inputProps={{ readOnly }}\n                    style={{ width: 80 }}\n                    error={Boolean(touched.effect_year && errors.effect_year)}\n                    helperText={touched.effect_year && errors.effect_year}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    year\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('effect_month')}\n                    variant=\"standard\"\n                    inputProps={{ readOnly }}\n                    style={{ width: 80 }}\n                    error={Boolean(touched.effect_month && errors.effect_month)}\n                    helperText={touched.effect_month && errors.effect_month}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    month\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('effect_day')}\n                    variant=\"standard\"\n                    inputProps={{ readOnly }}\n                    style={{ width: 80 }}\n                    error={Boolean(touched.effect_day && errors.effect_day)}\n                    helperText={touched.effect_day && errors.effect_day}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    day (East America Time from 00:01 AM)\n                  </Typography>\n                </Stack>\n\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    Permissions Valid period&nbsp;&nbsp;&nbsp;\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('valid_period')}\n                    variant=\"standard\"\n                    inputProps={{ readOnly }}\n                    style={{ width: 150 }}\n                    error={Boolean(touched.valid_period && errors.valid_period)}\n                    helperText={touched.valid_period && errors.valid_period}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    day\n                  </Typography>\n                </Stack>\n\n                {!readOnly && (\n                  <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end' }}>\n                    <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                      <LoadingButton type=\"button\" color=\"primary\" variant=\"contained\">\n                        Clear Special Permissions\n                      </LoadingButton>\n                      <LoadingButton type=\"submit\" variant=\"contained\" loading={isSubmitting}>\n                        Save Changes\n                      </LoadingButton>\n                    </Stack>\n                  </Box>\n                )}\n              </Stack>\n            </Card>\n          </Grid>\n        </Grid>\n      </Form>\n    </FormikProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}