{"ast":null,"code":"import _regeneratorRuntime from\"E:/dev/admin_panel/LocalsAdminPanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/dev/admin_panel/LocalsAdminPanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/dev/admin_panel/LocalsAdminPanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useSnackbar}from'notistack5';import{Editor,EditorState}from'draft-js';import'draft-js/dist/Draft.css';// material\nimport{LoadingButton}from'@material-ui/lab';import{Container,TextField}from'@material-ui/core';import axios from'../../utils/axios';// hooks\nimport useSettings from'../../hooks/useSettings';// components\nimport Page from'../../components/Page';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LegalAgreements(){var _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var _useSettings=useSettings(),themeStretch=_useSettings.themeStretch;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),privacyPolicyDefaultValue=_React$useState4[0],setPrivacyPolicyDefaultValue=_React$useState4[1];var _React$useState5=React.useState(privacyPolicyDefaultValue),_React$useState6=_slicedToArray(_React$useState5,2),privacyPolicy=_React$useState6[0],setPrivacyPolicy=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),userAgreementDefaultValue=_React$useState8[0],setUserAgreementDefaultValue=_React$useState8[1];var _React$useState9=React.useState(userAgreementDefaultValue),_React$useState10=_slicedToArray(_React$useState9,2),userAgreement=_React$useState10[0],setUserAgreement=_React$useState10[1];var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),userAgreementLoading=_React$useState12[0],setUserAgreementLoading=_React$useState12[1];React.useEffect(function(){var init=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/pages/legal-agreements');case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;if(data.success){setPrivacyPolicyDefaultValue(data.pages.privacy);console.log(data.pages.privacy);setUserAgreementDefaultValue(data.pages.agreement);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function init(){return _ref.apply(this,arguments);};}();init();},[]);var policyBtn=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();setLoading(true);_context2.next=4;return axios.put('/pages/privacy-policy',{content:privacyPolicy});case 4:setLoading(false);enqueueSnackbar('Updated Privacy Policy Successfully',{variant:'success'});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function policyBtn(_x){return _ref2.apply(this,arguments);};}();var agreementBtn=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();setUserAgreementLoading(true);_context3.next=4;return axios.put('/pages/user-agreement',{content:userAgreement});case 4:setUserAgreementLoading(false);enqueueSnackbar('Updated User Agreement Successfully',{variant:'success'});case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function agreementBtn(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Page,{title:\"Legal Agreement | Locals\",children:/*#__PURE__*/_jsxs(Container,{maxWidth:themeStretch?false:'lg',children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginBottom:'20px'},children:\"Privacy Policy\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true// label=\"Privacy Policy\"\n,placeholder:\"Write something!\",multiline:true,minRows:15,maxRows:15,onChange:function onChange(e){return setPrivacyPolicy(e.target.value);},defaultValue:privacyPolicyDefaultValue,sx:{mb:2}}),/*#__PURE__*/_jsx(LoadingButton,{type:\"submit\",variant:\"contained\",loading:loading,onClick:policyBtn,children:\"Save Changes\"}),/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:'20px',marginBottom:'20px'},children:\"User Agreement\"}),/*#__PURE__*/_jsx(TextField,{fullWidth:true// label=\"User Agreement\"\n,placeholder:\"Write something!\",multiline:true,minRows:15,maxRows:15,onChange:function onChange(e){return setUserAgreement(e.target.value);},defaultValue:userAgreementDefaultValue,sx:{mb:2}}),/*#__PURE__*/_jsx(LoadingButton,{type:\"submit\",variant:\"contained\",loading:userAgreementLoading,onClick:agreementBtn,children:\"Save Changes\"})]})});}","map":{"version":3,"sources":["E:/dev/admin_panel/LocalsAdminPanel/src/pages/dashboard/LegalAgreements.js"],"names":["React","useSnackbar","Editor","EditorState","LoadingButton","Container","TextField","axios","useSettings","Page","LegalAgreements","enqueueSnackbar","themeStretch","useState","loading","setLoading","privacyPolicyDefaultValue","setPrivacyPolicyDefaultValue","privacyPolicy","setPrivacyPolicy","userAgreementDefaultValue","setUserAgreementDefaultValue","userAgreement","setUserAgreement","userAgreementLoading","setUserAgreementLoading","useEffect","init","get","data","success","pages","privacy","console","log","agreement","policyBtn","e","preventDefault","put","content","variant","agreementBtn","marginBottom","target","value","mb","marginTop"],"mappings":"2cAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,OAASC,MAAT,CAAiBC,WAAjB,KAAoC,UAApC,CACA,MAAO,yBAAP,CACA;AACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,OAASC,SAAT,CAAoBC,SAApB,KAAqC,mBAArC,CACA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,CACA;AACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CACA;AACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CAEA;wFAEA,cAAe,SAASC,CAAAA,eAAT,EAA2B,CACxC,iBAA4BT,WAAW,EAAvC,CAAQU,eAAR,cAAQA,eAAR,CACA,iBAAyBH,WAAW,EAApC,CAAQI,YAAR,cAAQA,YAAR,CACA,oBAA8BZ,KAAK,CAACa,QAAN,CAAe,KAAf,CAA9B,oDAAOC,OAAP,qBAAgBC,UAAhB,qBAEA,qBAAkEf,KAAK,CAACa,QAAN,CAAe,EAAf,CAAlE,qDAAOG,yBAAP,qBAAkCC,4BAAlC,qBACA,qBAA0CjB,KAAK,CAACa,QAAN,CAAeG,yBAAf,CAA1C,qDAAOE,aAAP,qBAAsBC,gBAAtB,qBAEA,qBAAkEnB,KAAK,CAACa,QAAN,CAAe,EAAf,CAAlE,qDAAOO,yBAAP,qBAAkCC,4BAAlC,qBACA,qBAA0CrB,KAAK,CAACa,QAAN,CAAeO,yBAAf,CAA1C,sDAAOE,aAAP,sBAAsBC,gBAAtB,sBACA,sBAAwDvB,KAAK,CAACa,QAAN,CAAe,KAAf,CAAxD,uDAAOW,oBAAP,sBAA6BC,uBAA7B,sBAEAzB,KAAK,CAAC0B,SAAN,CAAgB,UAAM,CACpB,GAAMC,CAAAA,IAAI,0FAAG,mLACYpB,CAAAA,KAAK,CAACqB,GAAN,CAAU,yBAAV,CADZ,uCACHC,IADG,kBACHA,IADG,CAEX,GAAIA,IAAI,CAACC,OAAT,CAAkB,CAChBb,4BAA4B,CAACY,IAAI,CAACE,KAAL,CAAWC,OAAZ,CAA5B,CACAC,OAAO,CAACC,GAAR,CAAYL,IAAI,CAACE,KAAL,CAAWC,OAAvB,EACAX,4BAA4B,CAACQ,IAAI,CAACE,KAAL,CAAWI,SAAZ,CAA5B,CACD,CANU,sDAAH,kBAAJR,CAAAA,IAAI,0CAAV,CAQAA,IAAI,GACL,CAVD,CAUG,EAVH,EAYA,GAAMS,CAAAA,SAAS,2FAAG,kBAAOC,CAAP,sHAChBA,CAAC,CAACC,cAAF,GACAvB,UAAU,CAAC,IAAD,CAAV,CAFgB,uBAGVR,CAAAA,KAAK,CAACgC,GAAN,CAAU,uBAAV,CAAmC,CACvCC,OAAO,CAAEtB,aAD8B,CAAnC,CAHU,QAMhBH,UAAU,CAAC,KAAD,CAAV,CACAJ,eAAe,CAAC,qCAAD,CAAwC,CAAE8B,OAAO,CAAE,SAAX,CAAxC,CAAf,CAPgB,wDAAH,kBAATL,CAAAA,SAAS,6CAAf,CAUA,GAAMM,CAAAA,YAAY,2FAAG,kBAAOL,CAAP,sHACnBA,CAAC,CAACC,cAAF,GACAb,uBAAuB,CAAC,IAAD,CAAvB,CAFmB,uBAGblB,CAAAA,KAAK,CAACgC,GAAN,CAAU,uBAAV,CAAmC,CACvCC,OAAO,CAAElB,aAD8B,CAAnC,CAHa,QAMnBG,uBAAuB,CAAC,KAAD,CAAvB,CACAd,eAAe,CAAC,qCAAD,CAAwC,CAAE8B,OAAO,CAAE,SAAX,CAAxC,CAAf,CAPmB,wDAAH,kBAAZC,CAAAA,YAAY,8CAAlB,CAUA,mBACE,KAAC,IAAD,EAAM,KAAK,CAAC,0BAAZ,uBACE,MAAC,SAAD,EAAW,QAAQ,CAAE9B,YAAY,CAAG,KAAH,CAAW,IAA5C,wBACE,WAAI,KAAK,CAAE,CAAE+B,YAAY,CAAE,MAAhB,CAAX,4BADF,cAEE,KAAC,SAAD,EACE,SAAS,KACT;AAFF,CAGE,WAAW,CAAC,kBAHd,CAIE,SAAS,KAJX,CAKE,OAAO,CAAE,EALX,CAME,OAAO,CAAE,EANX,CAOE,QAAQ,CAAE,kBAACN,CAAD,QAAOlB,CAAAA,gBAAgB,CAACkB,CAAC,CAACO,MAAF,CAASC,KAAV,CAAvB,EAPZ,CAQE,YAAY,CAAE7B,yBARhB,CASE,EAAE,CAAE,CAAE8B,EAAE,CAAE,CAAN,CATN,EAFF,cA4BE,KAAC,aAAD,EAAe,IAAI,CAAC,QAApB,CAA6B,OAAO,CAAC,WAArC,CAAiD,OAAO,CAAEhC,OAA1D,CAAmE,OAAO,CAAEsB,SAA5E,0BA5BF,cAgCE,WAAI,KAAK,CAAE,CAAEW,SAAS,CAAE,MAAb,CAAqBJ,YAAY,CAAE,MAAnC,CAAX,4BAhCF,cAiCE,KAAC,SAAD,EACE,SAAS,KACT;AAFF,CAGE,WAAW,CAAC,kBAHd,CAIE,SAAS,KAJX,CAKE,OAAO,CAAE,EALX,CAME,OAAO,CAAE,EANX,CAOE,QAAQ,CAAE,kBAACN,CAAD,QAAOd,CAAAA,gBAAgB,CAACc,CAAC,CAACO,MAAF,CAASC,KAAV,CAAvB,EAPZ,CAQE,YAAY,CAAEzB,yBARhB,CASE,EAAE,CAAE,CAAE0B,EAAE,CAAE,CAAN,CATN,EAjCF,cAyDE,KAAC,aAAD,EAAe,IAAI,CAAC,QAApB,CAA6B,OAAO,CAAC,WAArC,CAAiD,OAAO,CAAEtB,oBAA1D,CAAgF,OAAO,CAAEkB,YAAzF,0BAzDF,GADF,EADF,CAiED","sourcesContent":["import React from 'react';\nimport { useSnackbar } from 'notistack5';\nimport { Editor, EditorState } from 'draft-js';\nimport 'draft-js/dist/Draft.css';\n// material\nimport { LoadingButton } from '@material-ui/lab';\nimport { Container, TextField } from '@material-ui/core';\nimport axios from '../../utils/axios';\n// hooks\nimport useSettings from '../../hooks/useSettings';\n// components\nimport Page from '../../components/Page';\n\n// ----------------------------------------------------------------------\n\nexport default function LegalAgreements() {\n  const { enqueueSnackbar } = useSnackbar();\n  const { themeStretch } = useSettings();\n  const [loading, setLoading] = React.useState(false);\n\n  const [privacyPolicyDefaultValue, setPrivacyPolicyDefaultValue] = React.useState('');\n  const [privacyPolicy, setPrivacyPolicy] = React.useState(privacyPolicyDefaultValue);\n\n  const [userAgreementDefaultValue, setUserAgreementDefaultValue] = React.useState('');\n  const [userAgreement, setUserAgreement] = React.useState(userAgreementDefaultValue);\n  const [userAgreementLoading, setUserAgreementLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    const init = async () => {\n      const { data } = await axios.get('/pages/legal-agreements');\n      if (data.success) {\n        setPrivacyPolicyDefaultValue(data.pages.privacy);\n        console.log(data.pages.privacy);\n        setUserAgreementDefaultValue(data.pages.agreement);\n      }\n    };\n    init();\n  }, []);\n\n  const policyBtn = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    await axios.put('/pages/privacy-policy', {\n      content: privacyPolicy\n    });\n    setLoading(false);\n    enqueueSnackbar('Updated Privacy Policy Successfully', { variant: 'success' });\n  };\n\n  const agreementBtn = async (e) => {\n    e.preventDefault();\n    setUserAgreementLoading(true);\n    await axios.put('/pages/user-agreement', {\n      content: userAgreement\n    });\n    setUserAgreementLoading(false);\n    enqueueSnackbar('Updated User Agreement Successfully', { variant: 'success' });\n  };\n\n  return (\n    <Page title=\"Legal Agreement | Locals\">\n      <Container maxWidth={themeStretch ? false : 'lg'}>\n        <h2 style={{ marginBottom: '20px' }}>Privacy Policy</h2>\n        <TextField\n          fullWidth\n          // label=\"Privacy Policy\"\n          placeholder=\"Write something!\"\n          multiline\n          minRows={15}\n          maxRows={15}\n          onChange={(e) => setPrivacyPolicy(e.target.value)}\n          defaultValue={privacyPolicyDefaultValue}\n          sx={{ mb: 2 }}\n        />\n        {/* <textarea\n          defaultValue={privacyPolicyDefaultValue}\n          placeholder=\"Write something!\"\n          onChange={(e) => setPrivacyPolicy(e.target.value)}\n          style={{\n            border: '1px solid #ccc',\n            padding: '10px',\n            minHeight: '6em',\n            cursor: 'text',\n            marginTop: '20px',\n            marginBottom: '10px',\n            width: '100%'\n          }}\n        /> */}\n\n        <LoadingButton type=\"submit\" variant=\"contained\" loading={loading} onClick={policyBtn}>\n          Save Changes\n        </LoadingButton>\n\n        <h2 style={{ marginTop: '20px', marginBottom: '20px' }}>User Agreement</h2>\n        <TextField\n          fullWidth\n          // label=\"User Agreement\"\n          placeholder=\"Write something!\"\n          multiline\n          minRows={15}\n          maxRows={15}\n          onChange={(e) => setUserAgreement(e.target.value)}\n          defaultValue={userAgreementDefaultValue}\n          sx={{ mb: 2 }}\n        />\n        {/* <textarea\n          placeholder=\"Write something!\"\n          defaultValue={userAgreementDefaultValue}\n          onChange={(e) => setUserAgreement(e.target.value)}\n          style={{\n            border: '1px solid #ccc',\n            padding: '10px',\n            minHeight: '6em',\n            cursor: 'text',\n            marginBottom: '10px',\n            width: '100%'\n          }}\n        /> */}\n        <LoadingButton type=\"submit\" variant=\"contained\" loading={userAgreementLoading} onClick={agreementBtn}>\n          Save Changes\n        </LoadingButton>\n      </Container>\n    </Page>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}