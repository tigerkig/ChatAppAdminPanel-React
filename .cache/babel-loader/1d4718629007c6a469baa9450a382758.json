{"ast":null,"code":"import _objectSpread from\"E:/dev/admin_panel/LocalsAdminPanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"E:/dev/admin_panel/LocalsAdminPanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/dev/admin_panel/LocalsAdminPanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import*as Yup from'yup';import{useCallback}from'react';import{useSnackbar}from'notistack5';import{useNavigate}from'react-router-dom';import{Form,FormikProvider,useFormik}from'formik';// material\nimport{LoadingButton}from'@material-ui/lab';import{Box,Card,Grid,Stack,Switch,TextField,Typography,FormHelperText,FormControlLabel}from'@material-ui/core';// import AdjustSharpIcon from '@mui/icons-material/AdjustSharp';\n// import AutoAwesomeSharpIcon from '@mui/icons-material/AutoAwesomeSharp';\n// utils\nimport axios from'../../../utils/axios';// import { fData } from '../../../utils/formatNumber';\nimport fakeRequest from'../../../utils/fakeRequest';// routes\n// import { PATH_DASHBOARD } from '../../../routes/paths';\n//\n// import Label from '../../Label';\n// import { UploadAvatar } from '../../upload';\n// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserSpecialPermissionsForm(_ref){var currentUser=_ref.currentUser,userSpecialPermissions=_ref.userSpecialPermissions;// const navigate = useNavigate();\nvar _useSnackbar=useSnackbar(),enqueueSnackbar=_useSnackbar.enqueueSnackbar;var itemValidation=Yup.object().shape({user_email:Yup.string().required('This field is required'),cover_people_num:Yup.string().required('This field is required'),top_message_max_num:Yup.string().required('This field is required'),effect_year:Yup.string().required('This field is required'),effect_month:Yup.string().required('This field is required'),effect_day:Yup.string().required('This field is required'),valid_period:Yup.string().required('This field is required')});var formik=useFormik({enableReinitialize:true,initialValues:{user_email:(userSpecialPermissions===null||userSpecialPermissions===void 0?void 0:userSpecialPermissions.user_email)||'',cover_people_num:(userSpecialPermissions===null||userSpecialPermissions===void 0?void 0:userSpecialPermissions.cover_people_num)||'',top_message_max_num:(userSpecialPermissions===null||userSpecialPermissions===void 0?void 0:userSpecialPermissions.top_message_max_num)||'',effect_year:(userSpecialPermissions===null||userSpecialPermissions===void 0?void 0:userSpecialPermissions.effect_year)||'',effect_month:(userSpecialPermissions===null||userSpecialPermissions===void 0?void 0:userSpecialPermissions.effect_month)||'',effect_day:(userSpecialPermissions===null||userSpecialPermissions===void 0?void 0:userSpecialPermissions.effect_day)||'',valid_period:(userSpecialPermissions===null||userSpecialPermissions===void 0?void 0:userSpecialPermissions.valid_period)||''},validationSchema:itemValidation,onSubmit:function(){var _onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values,_ref2){var setSubmitting,resetForm,setErrors;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setSubmitting=_ref2.setSubmitting,resetForm=_ref2.resetForm,setErrors=_ref2.setErrors;_context.prev=1;_context.next=4;return fakeRequest(500);case 4:_context.next=6;return axios.put(\"/user/permissions/\".concat(currentUser._id),values);case 6:// resetForm();\nsetSubmitting(false);enqueueSnackbar('Update success',{variant:'success'});_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(_context.t0);setSubmitting(false);setErrors(_context.t0);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));function onSubmit(_x,_x2){return _onSubmit.apply(this,arguments);}return onSubmit;}()});var errors=formik.errors,values=formik.values,touched=formik.touched,handleSubmit=formik.handleSubmit,isSubmitting=formik.isSubmitting,setFieldValue=formik.setFieldValue,getFieldProps=formik.getFieldProps;return/*#__PURE__*/_jsx(FormikProvider,{value:formik,children:/*#__PURE__*/_jsx(Form,{noValidate:true,autoComplete:\"off\",onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(Grid,{container:true,spacing:3,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:12,children:/*#__PURE__*/_jsxs(Card,{sx:{p:3,mt:3},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"inherit\",component:\"div\",sx:{mb:3},children:\"User Special Permission\"}),/*#__PURE__*/_jsxs(Stack,{spacing:3,children:[/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"User Email\\xA0\\xA0\\xA0\"}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},getFieldProps('user_email')),{},{variant:\"standard\",style:{width:250},error:Boolean(touched.user_email&&errors.user_email),helperText:touched.user_email&&errors.user_email}))]}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"Cover people\\xA0\\xA0\\xA0\"}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},getFieldProps('cover_people_num')),{},{variant:\"standard\",style:{width:250},error:Boolean(touched.cover_people_num&&errors.cover_people_num),helperText:touched.cover_people_num&&errors.cover_people_num})),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"person (range 1 ~ 1,000,000)\"})]}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"TOP messages permission\\xA0\\xA0\\xA0\"}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},getFieldProps('top_message_max_num')),{},{variant:\"standard\",style:{width:150},error:Boolean(touched.top_message_max_num&&errors.top_message_max_num),helperText:touched.top_message_max_num&&errors.top_message_max_num})),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"(1 ~ 10)\"})]}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"Effective Time\\xA0\\xA0\\xA0\"}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},getFieldProps('effect_year')),{},{variant:\"standard\",style:{width:80},error:Boolean(touched.effect_year&&errors.effect_year),helperText:touched.effect_year&&errors.effect_year})),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"year\"}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},getFieldProps('effect_month')),{},{variant:\"standard\",style:{width:80},error:Boolean(touched.effect_month&&errors.effect_month),helperText:touched.effect_month&&errors.effect_month})),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"month\"}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},getFieldProps('effect_day')),{},{variant:\"standard\",style:{width:80},error:Boolean(touched.effect_day&&errors.effect_day),helperText:touched.effect_day&&errors.effect_day})),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"day (East America Time from 00:01 AM)\"})]}),/*#__PURE__*/_jsxs(Stack,{direction:{xs:'column',sm:'row'},spacing:{xs:3,sm:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"Permissions Valid period\\xA0\\xA0\\xA0\"}),/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},getFieldProps('valid_period')),{},{variant:\"standard\",style:{width:150},error:Boolean(touched.valid_period&&errors.valid_period),helperText:touched.valid_period&&errors.valid_period})),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",style:{lineHeight:2},children:\"day\"})]}),/*#__PURE__*/_jsx(Box,{sx:{mt:3,display:'flex',justifyContent:'flex-end'},children:/*#__PURE__*/_jsx(LoadingButton,{type:\"submit\",variant:\"contained\",loading:isSubmitting,children:\"Save Changes\"})})]})]})})})})});}","map":{"version":3,"sources":["E:/dev/admin_panel/LocalsAdminPanel/src/components/_dashboard/user/UserSpecialPermissionsForm.js"],"names":["Yup","useCallback","useSnackbar","useNavigate","Form","FormikProvider","useFormik","LoadingButton","Box","Card","Grid","Stack","Switch","TextField","Typography","FormHelperText","FormControlLabel","axios","fakeRequest","UserSpecialPermissionsForm","currentUser","userSpecialPermissions","enqueueSnackbar","itemValidation","object","shape","user_email","string","required","cover_people_num","top_message_max_num","effect_year","effect_month","effect_day","valid_period","formik","enableReinitialize","initialValues","validationSchema","onSubmit","values","setSubmitting","resetForm","setErrors","put","_id","variant","console","error","errors","touched","handleSubmit","isSubmitting","setFieldValue","getFieldProps","p","mt","mb","xs","sm","lineHeight","width","Boolean","display","justifyContent"],"mappings":"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","sourcesContent":["import * as Yup from 'yup';\nimport PropTypes from 'prop-types';\nimport { useCallback } from 'react';\nimport { useSnackbar } from 'notistack5';\nimport { useNavigate } from 'react-router-dom';\nimport { Form, FormikProvider, useFormik } from 'formik';\n// material\nimport { LoadingButton } from '@material-ui/lab';\nimport {\n  Box,\n  Card,\n  Grid,\n  Stack,\n  Switch,\n  TextField,\n  Typography,\n  FormHelperText,\n  FormControlLabel\n} from '@material-ui/core';\n// import AdjustSharpIcon from '@mui/icons-material/AdjustSharp';\n// import AutoAwesomeSharpIcon from '@mui/icons-material/AutoAwesomeSharp';\n// utils\nimport axios from '../../../utils/axios';\n// import { fData } from '../../../utils/formatNumber';\nimport fakeRequest from '../../../utils/fakeRequest';\n// routes\n// import { PATH_DASHBOARD } from '../../../routes/paths';\n//\n// import Label from '../../Label';\n// import { UploadAvatar } from '../../upload';\n\n// ----------------------------------------------------------------------\n\nUserSpecialPermissionsForm.propTypes = {\n  currentUser: PropTypes.object,\n  userSpecialPermissions: PropTypes.object\n};\n\nexport default function UserSpecialPermissionsForm({ currentUser, userSpecialPermissions }) {\n  // const navigate = useNavigate();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const itemValidation = Yup.object().shape({\n    user_email: Yup.string().required('This field is required'),\n    cover_people_num: Yup.string().required('This field is required'),\n    top_message_max_num: Yup.string().required('This field is required'),\n    effect_year: Yup.string().required('This field is required'),\n    effect_month: Yup.string().required('This field is required'),\n    effect_day: Yup.string().required('This field is required'),\n    valid_period: Yup.string().required('This field is required')\n  });\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      user_email: userSpecialPermissions?.user_email || '',\n      cover_people_num: userSpecialPermissions?.cover_people_num || '',\n      top_message_max_num: userSpecialPermissions?.top_message_max_num || '',\n      effect_year: userSpecialPermissions?.effect_year || '',\n      effect_month: userSpecialPermissions?.effect_month || '',\n      effect_day: userSpecialPermissions?.effect_day || '',\n      valid_period: userSpecialPermissions?.valid_period || ''\n    },\n    validationSchema: itemValidation,\n    onSubmit: async (values, { setSubmitting, resetForm, setErrors }) => {\n      try {\n        await fakeRequest(500);\n\n        await axios.put(`/user/permissions/${currentUser._id}`, values);\n\n        // resetForm();\n        setSubmitting(false);\n        enqueueSnackbar('Update success', { variant: 'success' });\n      } catch (error) {\n        console.error(error);\n        setSubmitting(false);\n        setErrors(error);\n      }\n    }\n  });\n\n  const { errors, values, touched, handleSubmit, isSubmitting, setFieldValue, getFieldProps } = formik;\n\n  return (\n    <FormikProvider value={formik}>\n      <Form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={12}>\n            <Card sx={{ p: 3, mt: 3 }}>\n              <Typography variant=\"h6\" color=\"inherit\" component=\"div\" sx={{ mb: 3 }}>\n                User Special Permission\n              </Typography>\n              <Stack spacing={3}>\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    User Email&nbsp;&nbsp;&nbsp;\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('user_email')}\n                    variant=\"standard\"\n                    style={{ width: 250 }}\n                    error={Boolean(touched.user_email && errors.user_email)}\n                    helperText={touched.user_email && errors.user_email}\n                  />\n                </Stack>\n\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    Cover people&nbsp;&nbsp;&nbsp;\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('cover_people_num')}\n                    variant=\"standard\"\n                    style={{ width: 250 }}\n                    error={Boolean(touched.cover_people_num && errors.cover_people_num)}\n                    helperText={touched.cover_people_num && errors.cover_people_num}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    person (range 1 ~ 1,000,000)\n                  </Typography>\n                </Stack>\n\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    TOP messages permission&nbsp;&nbsp;&nbsp;\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('top_message_max_num')}\n                    variant=\"standard\"\n                    style={{ width: 150 }}\n                    error={Boolean(touched.top_message_max_num && errors.top_message_max_num)}\n                    helperText={touched.top_message_max_num && errors.top_message_max_num}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    (1 ~ 10)\n                  </Typography>\n                </Stack>\n\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    Effective Time&nbsp;&nbsp;&nbsp;\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('effect_year')}\n                    variant=\"standard\"\n                    style={{ width: 80 }}\n                    error={Boolean(touched.effect_year && errors.effect_year)}\n                    helperText={touched.effect_year && errors.effect_year}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    year\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('effect_month')}\n                    variant=\"standard\"\n                    style={{ width: 80 }}\n                    error={Boolean(touched.effect_month && errors.effect_month)}\n                    helperText={touched.effect_month && errors.effect_month}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    month\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('effect_day')}\n                    variant=\"standard\"\n                    style={{ width: 80 }}\n                    error={Boolean(touched.effect_day && errors.effect_day)}\n                    helperText={touched.effect_day && errors.effect_day}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    day (East America Time from 00:01 AM)\n                  </Typography>\n                </Stack>\n\n                <Stack direction={{ xs: 'column', sm: 'row' }} spacing={{ xs: 3, sm: 2 }}>\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    Permissions Valid period&nbsp;&nbsp;&nbsp;\n                  </Typography>\n                  <TextField\n                    {...getFieldProps('valid_period')}\n                    variant=\"standard\"\n                    style={{ width: 150 }}\n                    error={Boolean(touched.valid_period && errors.valid_period)}\n                    helperText={touched.valid_period && errors.valid_period}\n                  />\n                  <Typography variant=\"body1\" component=\"div\" style={{ lineHeight: 2 }}>\n                    day\n                  </Typography>\n                </Stack>\n\n                <Box sx={{ mt: 3, display: 'flex', justifyContent: 'flex-end' }}>\n                  <LoadingButton type=\"submit\" variant=\"contained\" loading={isSubmitting}>\n                    Save Changes\n                  </LoadingButton>\n                </Box>\n              </Stack>\n            </Card>\n          </Grid>\n        </Grid>\n      </Form>\n    </FormikProvider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}