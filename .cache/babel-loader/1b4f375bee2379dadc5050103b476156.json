{"ast":null,"code":"import _toConsumableArray from\"E:/dev/admin_panel/LocalsAdminPanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:/dev/admin_panel/LocalsAdminPanel/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useParams}from'react-router-dom';import{useState,useEffect}from'react';// material\nimport{styled}from'@material-ui/core/styles';import{Divider,Box}from'@material-ui/core';// redux\nimport{useDispatch,useSelector}from'../../../redux/store';import{getMails}from'../../../redux/slices/mail';//\nimport Scrollbar from'../../Scrollbar';import EmptyContent from'../../EmptyContent';import MailItem from'./MailItem';import MailToolbar from'./MailToolbar';// ----------------------------------------------------------------------\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RootStyle=styled('div')({flexGrow:1,display:'flex',overflow:'hidden',flexDirection:'column'});// ----------------------------------------------------------------------\nexport default function MailList(_ref){var onOpenSidebar=_ref.onOpenSidebar;var params=useParams();var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.mail;}),mails=_useSelector.mails;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),selectedMails=_useState2[0],setSelectedMails=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),dense=_useState4[0],setDense=_useState4[1];var isEmpty=mails.allIds.length<1;useEffect(function(){dispatch(getMails(params));},[dispatch,params]);var handleSelectAllMails=function handleSelectAllMails(){setSelectedMails(mails.allIds.map(function(mailId){return mailId;}));};var handleToggleDense=function handleToggleDense(){setDense(function(prev){return!prev;});};var handleDeselectAllMails=function handleDeselectAllMails(){setSelectedMails([]);};var handleSelectOneMail=function handleSelectOneMail(mailId){setSelectedMails(function(prevSelectedMails){if(!prevSelectedMails.includes(mailId)){return[].concat(_toConsumableArray(prevSelectedMails),[mailId]);}return prevSelectedMails;});};var handleDeselectOneMail=function handleDeselectOneMail(mailId){setSelectedMails(function(prevSelectedMails){return prevSelectedMails.filter(function(id){return id!==mailId;});});};return/*#__PURE__*/_jsxs(RootStyle,{children:[/*#__PURE__*/_jsx(MailToolbar,{mails:mails.allIds.length,selectedMails:selectedMails.length,onSelectAll:handleSelectAllMails,onOpenSidebar:onOpenSidebar,onDeselectAll:handleDeselectAllMails,onToggleDense:handleToggleDense}),/*#__PURE__*/_jsx(Divider,{}),!isEmpty?/*#__PURE__*/_jsx(Scrollbar,{children:/*#__PURE__*/_jsx(Box,{sx:{minWidth:{md:800}},children:mails.allIds.map(function(mailId){return/*#__PURE__*/_jsx(MailItem,{isDense:dense,mail:mails.byId[mailId],isSelected:selectedMails.includes(mailId),onSelect:function onSelect(){return handleSelectOneMail(mailId);},onDeselect:function onDeselect(){return handleDeselectOneMail(mailId);}},mailId);})})}):/*#__PURE__*/_jsx(EmptyContent,{title:\"There is no conversation\",img:\"/static/illustrations/illustration_empty_mail.svg\",sx:{flexGrow:1,height:'auto'}})]});}","map":{"version":3,"sources":["E:/dev/admin_panel/LocalsAdminPanel/src/components/_dashboard/mail/MailList.js"],"names":["useParams","useState","useEffect","styled","Divider","Box","useDispatch","useSelector","getMails","Scrollbar","EmptyContent","MailItem","MailToolbar","RootStyle","flexGrow","display","overflow","flexDirection","MailList","onOpenSidebar","params","dispatch","state","mail","mails","selectedMails","setSelectedMails","dense","setDense","isEmpty","allIds","length","handleSelectAllMails","map","mailId","handleToggleDense","prev","handleDeselectAllMails","handleSelectOneMail","prevSelectedMails","includes","handleDeselectOneMail","filter","id","minWidth","md","byId","height"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\n// material\nimport { styled } from '@material-ui/core/styles';\nimport { Divider, Box } from '@material-ui/core';\n// redux\nimport { useDispatch, useSelector } from '../../../redux/store';\nimport { getMails } from '../../../redux/slices/mail';\n//\nimport Scrollbar from '../../Scrollbar';\nimport EmptyContent from '../../EmptyContent';\nimport MailItem from './MailItem';\nimport MailToolbar from './MailToolbar';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')({\n  flexGrow: 1,\n  display: 'flex',\n  overflow: 'hidden',\n  flexDirection: 'column'\n});\n\n// ----------------------------------------------------------------------\n\nMailList.propTypes = {\n  onOpenSidebar: PropTypes.func\n};\n\nexport default function MailList({ onOpenSidebar }) {\n  const params = useParams();\n  const dispatch = useDispatch();\n  const { mails } = useSelector((state) => state.mail);\n  const [selectedMails, setSelectedMails] = useState([]);\n  const [dense, setDense] = useState(false);\n  const isEmpty = mails.allIds.length < 1;\n\n  useEffect(() => {\n    dispatch(getMails(params));\n  }, [dispatch, params]);\n\n  const handleSelectAllMails = () => {\n    setSelectedMails(mails.allIds.map((mailId) => mailId));\n  };\n\n  const handleToggleDense = () => {\n    setDense((prev) => !prev);\n  };\n\n  const handleDeselectAllMails = () => {\n    setSelectedMails([]);\n  };\n\n  const handleSelectOneMail = (mailId) => {\n    setSelectedMails((prevSelectedMails) => {\n      if (!prevSelectedMails.includes(mailId)) {\n        return [...prevSelectedMails, mailId];\n      }\n      return prevSelectedMails;\n    });\n  };\n\n  const handleDeselectOneMail = (mailId) => {\n    setSelectedMails((prevSelectedMails) => prevSelectedMails.filter((id) => id !== mailId));\n  };\n\n  return (\n    <RootStyle>\n      <MailToolbar\n        mails={mails.allIds.length}\n        selectedMails={selectedMails.length}\n        onSelectAll={handleSelectAllMails}\n        onOpenSidebar={onOpenSidebar}\n        onDeselectAll={handleDeselectAllMails}\n        onToggleDense={handleToggleDense}\n      />\n\n      <Divider />\n\n      {!isEmpty ? (\n        <Scrollbar>\n          <Box sx={{ minWidth: { md: 800 } }}>\n            {mails.allIds.map((mailId) => (\n              <MailItem\n                key={mailId}\n                isDense={dense}\n                mail={mails.byId[mailId]}\n                isSelected={selectedMails.includes(mailId)}\n                onSelect={() => handleSelectOneMail(mailId)}\n                onDeselect={() => handleDeselectOneMail(mailId)}\n              />\n            ))}\n          </Box>\n        </Scrollbar>\n      ) : (\n        <EmptyContent\n          title=\"There is no conversation\"\n          img=\"/static/illustrations/illustration_empty_mail.svg\"\n          sx={{ flexGrow: 1, height: 'auto' }}\n        />\n      )}\n    </RootStyle>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}